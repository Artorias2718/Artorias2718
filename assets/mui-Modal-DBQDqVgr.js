import{_ as h,a as uo}from"./@babel-CoH1aX8U.js";import{r as f,j as $}from"./react-BgJWeQTy.js";import{c as Z}from"./clsx-B-dksMZM.js";import{s as ro}from"./mui-styles-DbLOnfEf.js";import{D as fo,o as O,E as q,e as ho,l as oo,F as mo,H as eo,a as go,g as xo,h as to,c as bo}from"./@mui-UoK_28Vw.js";import{B as Eo}from"./mui-Backdrop-CBkRyx3B.js";import{u as ko}from"./mui-DefaultPropsProvider-DnUfkTsg.js";import{P as Po}from"./mui-Portal-BwuyIO2H.js";import{F as Ro}from"./mui-Unstable_TrapFocus-DGiWvs4u.js";function yo(e){const o=O(e);return o.body===e?q(e).innerWidth>o.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function A(e,o){o?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function no(e){return parseInt(q(e).getComputedStyle(e).paddingRight,10)||0}function vo(e){const s=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,t=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return s||t}function so(e,o,s,t,i){const n=[o,s,...t];[].forEach.call(e.children,r=>{const c=n.indexOf(r)===-1,d=!vo(r);c&&d&&A(r,i)})}function Y(e,o){let s=-1;return e.some((t,i)=>o(t)?(s=i,!0):!1),s}function To(e,o){const s=[],t=e.container;if(!o.disableScrollLock){if(yo(t)){const r=fo(O(t));s.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${no(t)+r}px`;const c=O(t).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{s.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${no(d)+r}px`})}let n;if(t.parentNode instanceof DocumentFragment)n=O(t).body;else{const r=t.parentElement,c=q(t);n=(r==null?void 0:r.nodeName)==="HTML"&&c.getComputedStyle(r).overflowY==="scroll"?r:t}s.push({value:n.style.overflow,property:"overflow",el:n},{value:n.style.overflowX,property:"overflow-x",el:n},{value:n.style.overflowY,property:"overflow-y",el:n}),n.style.overflow="hidden"}return()=>{s.forEach(({value:n,el:r,property:c})=>{n?r.style.setProperty(c,n):r.style.removeProperty(c)})}}function Co(e){const o=[];return[].forEach.call(e.children,s=>{s.getAttribute("aria-hidden")==="true"&&o.push(s)}),o}class Mo{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(o,s){let t=this.modals.indexOf(o);if(t!==-1)return t;t=this.modals.length,this.modals.push(o),o.modalRef&&A(o.modalRef,!1);const i=Co(s);so(s,o.mount,o.modalRef,i,!0);const n=Y(this.containers,r=>r.container===s);return n!==-1?(this.containers[n].modals.push(o),t):(this.containers.push({modals:[o],container:s,restore:null,hiddenSiblings:i}),t)}mount(o,s){const t=Y(this.containers,n=>n.modals.indexOf(o)!==-1),i=this.containers[t];i.restore||(i.restore=To(i,s))}remove(o,s=!0){const t=this.modals.indexOf(o);if(t===-1)return t;const i=Y(this.containers,r=>r.modals.indexOf(o)!==-1),n=this.containers[i];if(n.modals.splice(n.modals.indexOf(o),1),this.modals.splice(t,1),n.modals.length===0)n.restore&&n.restore(),o.modalRef&&A(o.modalRef,s),so(n.container,o.mount,o.modalRef,n.hiddenSiblings,!1),this.containers.splice(i,1);else{const r=n.modals[n.modals.length-1];r.modalRef&&A(r.modalRef,!1)}return t}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1]===o}}function So(e){return typeof e=="function"?e():e}function wo(e){return e?e.props.hasOwnProperty("in"):!1}const Io=new Mo;function No(e){const{container:o,disableEscapeKeyDown:s=!1,disableScrollLock:t=!1,manager:i=Io,closeAfterTransition:n=!1,onTransitionEnter:r,onTransitionExited:c,children:d,onClose:m,open:g,rootRef:y}=e,v=f.useRef({}),T=f.useRef(null),p=f.useRef(null),F=ho(p,y),[j,C]=f.useState(!g),E=wo(d);let b=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(b=!1);const D=()=>O(T.current),k=()=>(v.current.modalRef=p.current,v.current.mount=T.current,v.current),M=()=>{i.mount(k(),{disableScrollLock:t}),p.current&&(p.current.scrollTop=0)},S=oo(()=>{const a=So(o)||D().body;i.add(k(),a),p.current&&M()}),w=f.useCallback(()=>i.isTopModal(k()),[i]),H=oo(a=>{T.current=a,a&&(g&&w()?M():p.current&&A(p.current,b))}),x=f.useCallback(()=>{i.remove(k(),b)},[b,i]);f.useEffect(()=>()=>{x()},[x]),f.useEffect(()=>{g?S():(!E||!n)&&x()},[g,x,E,n,S]);const L=a=>l=>{var u;(u=a.onKeyDown)==null||u.call(a,l),!(l.key!=="Escape"||l.which===229||!w())&&(s||(l.stopPropagation(),m&&m(l,"escapeKeyDown")))},_=a=>l=>{var u;(u=a.onClick)==null||u.call(a,l),l.target===l.currentTarget&&m&&m(l,"backdropClick")};return{getRootProps:(a={})=>{const l=mo(e);delete l.onTransitionEnter,delete l.onTransitionExited;const u=h({},l,a);return h({role:"presentation"},u,{onKeyDown:L(u),ref:F})},getBackdropProps:(a={})=>{const l=a;return h({"aria-hidden":!0},l,{onClick:_(l),open:g})},getTransitionProps:()=>{const a=()=>{C(!1),r&&r()},l=()=>{C(!0),c&&c(),n&&x()};return{onEnter:eo(a,d==null?void 0:d.props.onEnter),onExited:eo(l,d==null?void 0:d.props.onExited)}},rootRef:F,portalRef:H,isTopModal:w,exited:j,hasTransition:E}}function Bo(e){return go("MuiModal",e)}xo("MuiModal",["root","hidden","backdrop"]);const Oo=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Ao=e=>{const{open:o,exited:s,classes:t}=e;return bo({root:["root",!o&&s&&"hidden"],backdrop:["backdrop"]},Bo,t)},Fo=ro("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,!s.open&&s.exited&&o.hidden]}})(({theme:e,ownerState:o})=>h({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!o.open&&o.exited&&{visibility:"hidden"})),Do=ro(Eo,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,o)=>o.backdrop})({zIndex:-1}),Yo=f.forwardRef(function(o,s){var t,i,n,r,c,d;const m=ko({name:"MuiModal",props:o}),{BackdropComponent:g=Do,BackdropProps:y,className:v,closeAfterTransition:T=!1,children:p,container:F,component:j,components:C={},componentsProps:E={},disableAutoFocus:b=!1,disableEnforceFocus:D=!1,disableEscapeKeyDown:k=!1,disablePortal:M=!1,disableRestoreFocus:S=!1,disableScrollLock:w=!1,hideBackdrop:H=!1,keepMounted:x=!1,onBackdropClick:L,open:_,slotProps:I,slots:N}=m,G=uo(m,Oo),a=h({},m,{closeAfterTransition:T,disableAutoFocus:b,disableEnforceFocus:D,disableEscapeKeyDown:k,disablePortal:M,disableRestoreFocus:S,disableScrollLock:w,hideBackdrop:H,keepMounted:x}),{getRootProps:l,getBackdropProps:u,getTransitionProps:io,portalRef:lo,isTopModal:ao,exited:X,hasTransition:J}=No(h({},a,{rootRef:s})),B=h({},a,{exited:X}),P=Ao(B),K={};if(p.props.tabIndex===void 0&&(K.tabIndex="-1"),J){const{onEnter:R,onExited:U}=io();K.onEnter=R,K.onExited=U}const Q=(t=(i=N==null?void 0:N.root)!=null?i:C.Root)!=null?t:Fo,V=(n=(r=N==null?void 0:N.backdrop)!=null?r:C.Backdrop)!=null?n:g,W=(c=I==null?void 0:I.root)!=null?c:E.root,z=(d=I==null?void 0:I.backdrop)!=null?d:E.backdrop,co=to({elementType:Q,externalSlotProps:W,externalForwardedProps:G,getSlotProps:l,additionalProps:{ref:s,as:j},ownerState:B,className:Z(v,W==null?void 0:W.className,P==null?void 0:P.root,!B.open&&B.exited&&(P==null?void 0:P.hidden))}),po=to({elementType:V,externalSlotProps:z,additionalProps:y,getSlotProps:R=>u(h({},R,{onClick:U=>{L&&L(U),R!=null&&R.onClick&&R.onClick(U)}})),className:Z(z==null?void 0:z.className,y==null?void 0:y.className,P==null?void 0:P.backdrop),ownerState:B});return!x&&!_&&(!J||X)?null:$.jsx(Po,{ref:lo,container:F,disablePortal:M,children:$.jsxs(Q,h({},co,{children:[!H&&g?$.jsx(V,h({},po)):null,$.jsx(Ro,{disableEnforceFocus:D,disableAutoFocus:b,disableRestoreFocus:S,isEnabled:ao,open:_,children:f.cloneElement(p,K)})]}))})});export{Yo as M};
